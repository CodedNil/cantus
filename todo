below the current tracks bar, have buttons to set star rating, add to specific pinned playlists
click and drag to seek

show previous song, click to go back to it
click current song to seek to that position in it

show the waveform of the song
grab the acousticness, danceability, energy etc and factor that into the animation/colours?
lyrics along the bottom

pulse animation when play or pause like zen
maybe make currently playing song have an animated glow outline, when the song is changed the new one should do have a heavy pulse


colours:
get primary colours per song image, give the text complementary colour
pull artist image to use in addition to the albums (maybe half and half?), will fix grayscale albums

songs to test: Everytime Britney (Should be blue and gold)


animations:
switching from the lower to full rounded corner when its cropped
hide text with a fade out when the bar is too narrow
scale the text size to fit the pill, unless its severely too small then fade it out
smoothly lerp large position changes, the track_start_ms should be lerped from the last stored one
smoothly enter new songs into the right side, dont crop them in, have one waiting then in a smooth quick animation it pops in like a bubble


particles:
pulse emission based on songs current analysis (loudness etc at that point)
entry particles for songs on the right that are growing (very subtle in comparison)
give the particles a random pick from the primary colours (exclude grayscale ones)


shrink dependencies:
wasm-bindgen
wgpu optional features


cleanup:
tidy CantusLayer, remove the unneeded variables, try to reduce how much of it is Option<T>
dont allow multiple spotify interactions concurrently to avoid bugs
force a spotify refresh immediately after making an interaction
dirty the queue if its drastically changed
re-add limiting text to the track bar left
darken the track to the left of the playback bar

fix weird rendering of the track bar when its really narrow
