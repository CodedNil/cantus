interaction:
below the current tracks bar, have buttons to set star rating, add to specific pinned playlists
click and drag to seek
stack previous songs so a bit of each is visible up to like 6 songs
click current song to seek to that position in it


animations:
switching from the lower to full rounded corner when its cropped
smoothly enter new songs into the right side, dont crop them in, have one waiting then in a smooth quick animation it pops in like a bubble
pulse animation when play or pause like zen
maybe make currently playing song have an animated glow outline, when the song is changed the new one should do have a heavy pulse


particles:
pulse emission based on songs current analysis (loudness etc at that point)
entry particles for songs on the right that are growing (very subtle in comparison)
particles colors more vivid


shrink dependencies:
wasm-bindgen
wgpu optional features


cleanup:
tidy CantusLayer, remove the unneeded variables, try to reduce how much of it is Option<T>
dirty the queue if its drastically changed
darken the track to the left of the playback bar
fix weird rendering of the track bar when its really narrow
instead of recomputing ratios in the palette texture generation, and having for x in max strokes, just divide up the strokes by which colours need it


misc:
lyrics along the bottom



todo when audio analysis is possible again:
show the waveform of the song
particles emit faster based on the tempo
valence (0-1) - positivity - vibrancy boost to the colours, use lighter colour theme too
tempo (50-200) - for animation speed
acousticness (0-1)
danceability (0-1)
energy (0-1)
instrumentalness (0-1)
loudness (-60-0db)
